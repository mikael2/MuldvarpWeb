<ui:composition template="/templates/layout.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:c="http://java.sun.com/jsp/jstl/core">

    <ui:define name="title">
        
    </ui:define>
    
    <ui:define name="mainsingle">
        <h:form id="courseForm">
            <p:fieldset legend="#{programmeController.selected.name}">
                <div style="width:1100px">
                    <p:messages id="messages" showDetail="true" autoUpdate="true"/>
                    <div style="float:left; width: 500px;">
                        <div>
                            <div class="column_left">
                                <h:outputText value="Name: " />
                            </div>
                            <div class="column_right">
                                <h:inputText value="#{programmeController.selected.name}" />
                            </div>
                        </div>
                        <div>
                            <div class="column_left">
                                <h:outputText value="Detail: " />
                            </div>
                            <div class="column_right">
                                <h:inputText value="#{programmeController.selected.detail}" />
                            </div>
                        </div>
                        
                        <div>
                            <div class="column_left">
                            </div>
                            <div class="column_right">
                                <!--<p:dataTable id="programmeTable"
                                    value="#{programmeController.selected.courses}" 
                                    var="course">
                                    <p:column headerText="Name">  
                                        <h:commandLink value="#{course.name}" action="#{courseController.setSelected(course)}" />
                                    </p:column>
                                    <p:column>
                                        <h:commandLink value="Delete" action="#{programmeController.removeCourseFromProgramme(course)}"/>
                                    </p:column>
                                </p:dataTable>-->
                                <p:fieldset legend="Courses in programme">
                                    <p:pickList id="pickList"
                                                value="#{programmeController.courses}" 
                                                var="course" 
                                                itemValue="#{course}" 
                                                itemLabel="#{course.name}" 
                                                showSourceFilter="true" 
                                                filterMatchMode="contains"
                                                converter="#{courseConverter}">
                                        <f:facet name="sourceCaption">Available</f:facet>  
                                        <f:facet name="targetCaption">Selected</f:facet>  
                                    </p:pickList>  
                                    <p:commandButton value="Submit" action="#{programmeController.addCourses(programmeController.courses.target)}"/>
                                </p:fieldset>
                            </div>
                        </div>
                        <div class="column">    
                    <p:fieldset legend="Videos">
                        <p:pickList id="pickListVideos"
                                    value="#{programmeController.videos}" var="video" itemValue="#{video}" itemLabel="#{video.videoName}" showSourceFilter="true" filterMatchMode="contains" converter="#{videoConverter}">
                            <f:facet name="sourceCaption">Available</f:facet>  
                            <f:facet name="targetCaption">Selected</f:facet>
                        </p:pickList>  
                        <p:commandButton value="Submit" action="#{programmeController.addVideos(programmeController.videos.target)}"/>
                    </p:fieldset>
                </div>
                <div class="column">    
                    <p:fieldset legend="Documents">
                        <p:pickList id="pickListDocuments"
                                    value="#{programmeController.documents}" var="document" itemValue="#{document}" itemLabel="#{document.title}" showSourceFilter="true" filterMatchMode="contains" converter="#{documentConverter}">
                            <f:facet name="sourceCaption">Available</f:facet>  
                            <f:facet name="targetCaption">Selected</f:facet>
                        </p:pickList>  
                        <p:commandButton value="Submit" action="#{programmeController.addDocuments(programmeController.documents.target)}"/>
                    </p:fieldset>
                </div>
                <div class="column">    
                    <p:fieldset legend="Quizzes">
                        <p:pickList id="pickListQuizzes"
                                    value="#{programmeController.quizzes}" var="quiz" itemValue="#{quiz}" itemLabel="#{quiz.name}" showSourceFilter="true" filterMatchMode="contains" converter="#{quizConverter}">
                            <f:facet name="sourceCaption">Available</f:facet>  
                            <f:facet name="targetCaption">Selected</f:facet>
                        </p:pickList>  
                        <p:commandButton value="Submit" action="#{programmeController.addQuizzes(programmeController.quizzes.target)}"/>
                    </p:fieldset>
                </div>
                <div class="column">
                    <p:fieldset legend="Articles">
                        <h:outputText value="Information:" />
                        <p:selectOneMenu value="#{programmeController.information}" converter="#{articleConverter}" panelStyle="width:150px"  
                                 effect="fade" var="p" style="width:160px"  filter="true" filterMatchMode="startsWith">
                            <f:selectItems value="#{programmeController.articles}" var="article" itemLabel="#{article.title}" itemValue="#{article}"/>
                            <p:column>  
                                #{p.title}
                            </p:column>  
                        </p:selectOneMenu>
                        <h:outputText value="Help:" />
                        <p:selectOneMenu value="#{programmeController.help}" converter="#{articleConverter}" panelStyle="width:150px"  
                                 effect="fade" var="p" style="width:160px"  filter="true" filterMatchMode="startsWith">
                            <f:selectItems value="#{programmeController.articles}" var="article2" itemLabel="#{article2.title}" itemValue="#{article2}"/>
                            <p:column>  
                                #{p.title}
                            </p:column>  
                        </p:selectOneMenu>
                        <h:outputText value="Dates:" />
                        <p:selectOneMenu value="#{programmeController.dates}" converter="#{articleConverter}" panelStyle="width:150px"  
                                 effect="fade" var="p" style="width:160px"  filter="true" filterMatchMode="startsWith">
                            <f:selectItems value="#{programmeController.articles}" var="article3" itemLabel="#{article3.title}" itemValue="#{article3}"/>  
                            <p:column>  
                                #{p.title}
                            </p:column>  
                        </p:selectOneMenu>
                    </p:fieldset>
                </div>
                    </div>
                    <div style="float:left; width: 200px;">
                        <h:commandLink value="Save" action="#{programmeController.editProgramme()}" actionListener="#{programmeController.addInfo(1)}"/> <br />
                        <h:commandLink value="Delete" action="#{programmeController.removeProgramme()}" actionListener="#{programmeController.addInfo(2)}"/>
                    </div>
                </div> 
           </p:fieldset>
        </h:form>
    </ui:define>
    
   
</ui:composition>
